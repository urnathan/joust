# test detect checker error

# RUN:! kratos -p INNER $src | ezio -p OUT $src |& ezio -p ERR -p OUT $src
# RUN-END:

# INNER: true 
# INNER: | false
# INNER: |& false
# INNER-END:

# the stdout and stderr output could be in either order
# if I'd implemented the expression capture stuff, we could check
# the second was not the first

# ERR: $src:{:[78]}: error: 'false' exited with code 1
# OUT-NEXT: ERROR: $src:6:RUN true
# ERR-NEXT: $src:{:[78]}: error: 'false' exited with code 1
# OUT-NEXT: ERROR: $src:6:RUN true
# OUT-NEXT: PASS: $src:6:RUN true
# OUT-NEXT: $EOF
